<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Choco</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="tags: Ruby &amp; Rails20221108 Ruby on Rails tips走出New Rails專案的第一步 rails專案的時候可以先用rails&#x2F;ruby -v 確認版本 rails &#x2F; ruby 1.1.1--default 轉成預設值 rails _6.1.7_ new 專案名稱 git init 初始化,把git加入資裡夾 git add . 將file轉到暫存區">
<meta property="og:type" content="article">
<meta property="og:title" content="Choco">
<meta property="og:url" content="https://chocolin1226.github.io/2022/11/16/RoR_new/index.html">
<meta property="og:site_name" content="Choco">
<meta property="og:description" content="tags: Ruby &amp; Rails20221108 Ruby on Rails tips走出New Rails專案的第一步 rails專案的時候可以先用rails&#x2F;ruby -v 確認版本 rails &#x2F; ruby 1.1.1--default 轉成預設值 rails _6.1.7_ new 專案名稱 git init 初始化,把git加入資裡夾 git add . 將file轉到暫存區">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.imgur.com/rROYKGq.png">
<meta property="og:image" content="https://i.imgur.com/iR966p7.png">
<meta property="og:image" content="https://i.imgur.com/PsYA2fm.png">
<meta property="og:image" content="https://i.imgur.com/V7jJmtG.png">
<meta property="og:image" content="https://i.imgur.com/Tn4ULTC.png">
<meta property="og:image" content="https://i.imgur.com/B916d1X.png">
<meta property="article:published_time" content="2022-11-16T10:21:34.271Z">
<meta property="article:modified_time" content="2022-11-16T10:21:34.271Z">
<meta property="article:author" content="Choco">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.imgur.com/rROYKGq.png">
  
    <link rel="alternate" href="/atom.xml" title="Choco" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Choco</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://chocolin1226.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-RoR_new" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/16/RoR_new/" class="article-date">
  <time class="dt-published" datetime="2022-11-16T10:21:34.271Z" itemprop="datePublished">2022-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h6 id="tags-Ruby-amp-Rails"><a href="#tags-Ruby-amp-Rails" class="headerlink" title="tags: Ruby &amp; Rails"></a>tags: <code>Ruby &amp; Rails</code></h6><h1 id="20221108-Ruby-on-Rails-tips"><a href="#20221108-Ruby-on-Rails-tips" class="headerlink" title="20221108 Ruby on Rails tips"></a>20221108 Ruby on Rails tips</h1><h2 id="走出New-Rails專案的第一步"><a href="#走出New-Rails專案的第一步" class="headerlink" title="走出New Rails專案的第一步"></a>走出New Rails專案的第一步</h2><ol>
<li>rails專案的時候可以先用<code>rails/ruby -v</code> 確認版本</li>
<li><code>rails / ruby 1.1.1--default</code> 轉成預設值</li>
<li><code>rails _6.1.7_ new 專案名稱</code></li>
<li><code>git init</code> 初始化,把git加入資裡夾</li>
<li><code>git add .</code> 將file轉到暫存區.的意思是全部的意思,除非知道裡面有什麼檔案,不然建議不要用,還是以後面加檔案名稱.副檔名為主</li>
<li><code>git commit -m &quot;儲存名稱&quot;</code>  將告一段落的東西或是今天不會再碰到的東西存入版控</li>
</ol>
<hr>
<h2 id="bundle-install-amp-amp-gemfile-的秘密"><a href="#bundle-install-amp-amp-gemfile-的秘密" class="headerlink" title="bundle install  &amp;&amp; gemfile 的秘密"></a>bundle install  &amp;&amp; gemfile 的秘密</h2><ol>
<li><code>bundle install</code> ：是找到 <code>Gemfile</code> 之後去執行 <code>gem install..</code>並在系統中安裝套件,然後會產生 <code>Gemfile.lock</code>檔<code>bundle install</code>想解決得問題是版本問題可能會同時有很多檔案共用一個檔案,但每個需求的版本都不太一樣所以就會藉由<code>bundle install</code>去分版本給每給檔案需要的</li>
</ol>
<h2 id="gemfile-的存在意義"><a href="#gemfile-的存在意義" class="headerlink" title="gemfile 的存在意義"></a>gemfile 的存在意義</h2><ol start="2">
<li><code>gemfile</code> 裡面是所有專案要用的套件,包在gurp裡面就不會直接安裝而是當要測試的時候才會安裝,但要是放在全域就在執行<code>bundle install</code>的時候就會全部被安裝</li>
</ol>
<hr>
<h2 id="一些小技巧"><a href="#一些小技巧" class="headerlink" title="一些小技巧"></a>一些小技巧</h2><ol>
<li><p>Ruby ~&gt; 1(Major).0(Minor).1(Patch) ~&gt;(不會跳版號) 然後為什麼要用是因為可以保持版號更新跟維持相容性</p>
</li>
<li><p><code>Ruby &quot;1.0.1&quot;</code> 直接寫死板號不會錯</p>
</li>
</ol>
<h2 id="建立完-Rails-專案後每個檔案到底在做什麼呢？"><a href="#建立完-Rails-專案後每個檔案到底在做什麼呢？" class="headerlink" title="建立完 Rails 專案後每個檔案到底在做什麼呢？"></a>建立完 Rails 專案後每個檔案到底在做什麼呢？</h2><ol start="3">
<li><code>ruby-version</code> 裡面是放專案的版本</li>
</ol>
<p><img src="https://i.imgur.com/rROYKGq.png"></p>
<ol start="4">
<li>Gemfile 裡面是專案內用的所有套件軟體</li>
</ol>
<p><img src="https://i.imgur.com/iR966p7.png"></p>
<hr>
<h2 id="Ruby-for-Rails"><a href="#Ruby-for-Rails" class="headerlink" title="Ruby for Rails"></a>Ruby for Rails</h2><ul>
<li><p>gem 是什麼？ <code>gem</code> 是 <code>ruby</code> 套件安裝管理工具</p>
</li>
<li><p>JS 中是用 yarn 跟 npm install 並產生 node_modules檔案</p>
</li>
<li><p><code>gem env</code> -&gt; 可以看到 <code>gem</code> 相關環境設定 </p>
</li>
<li><p>ruby 套件是安裝在系統中，不是在專案當中。</p>
</li>
<li><p><code>bundle install</code>： 根據<code>Gemfile</code>透過<code>gem install</code>去下載安裝套件，同樣也是安裝在系統當中。產生<code>Gemfile.lock</code>。</p>
</li>
<li><p><code>Gemfile.lock</code>是為了解決套件工具版本相依性問題。</p>
</li>
<li><p><code>gem install</code>：</p>
</li>
<li><p>REPL &#x3D; Read-Eval-Print Loop 可以在不同的環境底下就能編輯code。</p>
</li>
<li><p>多行註解</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">=begin </span></span><br><span class="line"><span class="comment"> 中間是內容</span></span><br><span class="line"><span class="comment"> 中間是內容</span></span><br><span class="line"><span class="comment"> 中間是內容</span></span><br><span class="line"><span class="comment">=end</span></span><br></pre></td></tr></table></figure></li>
<li><p>Ruby 命名慣例，蛇式命名法。 Ex: user_name</p>
</li>
<li><p>javascript 命名慣例，駝峰式命名法。 Ex: UserName</p>
</li>
<li><p>多從指定： a, b &#x3D; b, a ; 達到 a,b 互換的效果</p>
</li>
<li><p>大寫字母開頭就是常數。 ex: A &#x3D; 1</p>
</li>
<li><p>[冷知識] Ruby 的常數是可以被 re-assign<br><img src="https://i.imgur.com/PsYA2fm.png"></p>
</li>
<li><p>單引號(‘’)(%q)、雙引號(“”)(%Q)</p>
</li>
<li><p>Ruby使用 ＃{} &#x2F; JavaScript使用 ${}</p>
</li>
<li><p>Ruby的世界只有 <code>nil</code>、<code>false</code> 是 false，其他都是 true</p>
</li>
<li><p>一個等號&#x3D;，兩個等號&#x3D;&#x3D;，三個等號&#x3D;&#x3D;&#x3D;</p>
</li>
</ul>
<h3 id="Exception-例外"><a href="#Exception-例外" class="headerlink" title="Exception(例外)"></a>Exception(例外)</h3><p>每個程式語言對於 exception 處理方式不同。<br>Ruby的世界，會有這樣的設計，可以讓function單純的處理 input 與 output 的關係。<br>單獨把判斷的事情拉出來做處理。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">begin</span></span><br><span class="line">    可能出現例外的程式碼</span><br><span class="line"><span class="keyword">rescue</span></span><br><span class="line">    沒有指定Exception的類別的話，那就是出現錯誤就執行</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="REPL-到底是什麼？"><a href="#REPL-到底是什麼？" class="headerlink" title="REPL 到底是什麼？"></a>REPL 到底是什麼？</h2><ul>
<li><strong>REPL &#x3D; Read-Eval-PrintLoop</strong> 想要解決不用任何檔案就可以做測試為了方便每個測試者更方便處理</li>
</ul>
<h2 id="Ruby的命名法與值得互換"><a href="#Ruby的命名法與值得互換" class="headerlink" title="Ruby的命名法與值得互換"></a>Ruby的命名法與值得互換</h2><ul>
<li><p>Ruby 用<strong>蛇式命名法</strong> , JS 用<strong>駝峰式命名法</strong></p>
</li>
<li><p>a , b &#x3D; b , a 兩值互換可以直接使用這方法</p>
</li>
</ul>
<h2 id="常數及變的差異性-Ruby-const-can-re-assign"><a href="#常數及變的差異性-Ruby-const-can-re-assign" class="headerlink" title="常數及變的差異性,Ruby const can re-assign ?"></a>常數及變的差異性,Ruby const can re-assign ?</h2><ul>
<li>Ruby 常數是可以 re-assign ,但是會出現警告 , 另外一個差異性就是大小寫不同</li>
</ul>
<p><img src="https://i.imgur.com/V7jJmtG.png"></p>
<h2 id="引號如何帶入參數-單引號及雙引號差別"><a href="#引號如何帶入參數-單引號及雙引號差別" class="headerlink" title="引號如何帶入參數,單引號及雙引號差別"></a>引號如何帶入參數,單引號及雙引號差別</h2><ul>
<li>引號的使用方式,要帶入參數要使用雙引號,單引號不會有作用</li>
</ul>
<p><img src="https://i.imgur.com/Tn4ULTC.png"></p>
<h2 id="在Ruby的世界裡-x3D-x3D-x3D-不是比較而是一個-method"><a href="#在Ruby的世界裡-x3D-x3D-x3D-不是比較而是一個-method" class="headerlink" title="在Ruby的世界裡 &#x3D;&#x3D;&#x3D; 不是比較而是一個 method"></a>在Ruby的世界裡 &#x3D;&#x3D;&#x3D; 不是比較而是一個 method</h2><ul>
<li><code>kitty === 1</code> 不能把等於看作是比較而是比較像 <code>kitty.===(1)</code>在物件化的世界裡面 &#x3D;&#x3D;&#x3D; 是一個方法並帶給他參數(1)</li>
</ul>
<h2 id="能不寫else就盡量不要寫"><a href="#能不寫else就盡量不要寫" class="headerlink" title="能不寫else就盡量不要寫"></a>能不寫else就盡量不要寫</h2><ul>
<li>在if…else 內能不寫else 就盡量不寫反而比較直覺,可讀性也會比較好,如果真的要寫else 也可以用把原本相同的東西拉出來做成預設值,原本else的部分,就改用if判斷就可以,以下是簡化過後的 method 相對簡單很多</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def is_integer_than_20(n)</span><br><span class="line"></span><br><span class="line">  if n &gt; 20         return if &gt; 20 </span><br><span class="line">    return true     &gt;&gt;&gt;這邊可以直接簡化成一行只要關注要關注的</span><br><span class="line">  else</span><br><span class="line">    return false</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<h2 id="Exception-例外-1"><a href="#Exception-例外-1" class="headerlink" title="Exception 例外"></a>Exception 例外</h2><p>使用<code>begin...rescue</code> ,讓 method 只用在意輸入值或輸出值就好越單純越好只用在意計算 , 不要讓 method 再去做判定！ </p>
<h2 id="今日課堂小練習"><a href="#今日課堂小練習" class="headerlink" title="今日課堂小練習"></a>今日課堂小練習</h2><ol>
<li>使用map方法就是將陣列的每一個元素做運算後再回傳到新的陣列中。<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">p list.map &#123; |<span class="params">n</span>| n * <span class="number">2</span> &#125;</span><br><span class="line"><span class="comment"># 有一個陣列[1,2,3,4,5] // 印出結果[2,4,6,8,10] </span></span><br></pre></td></tr></table></figure></li>
<li>reduce不給預設值就會,抓索引值[1],acc &#x3D; 9 , num &#x3D; 1 如果 9 &gt; 1 就會是true就會留下 9 然後 num &#x3D; 2 在一路做比較下去直到沒有參數就會回傳最終結果<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#使用 reduce 找出 list 的最大值   // 9</span></span><br><span class="line"></span><br><span class="line">list = [<span class="number">9</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">8</span>]</span><br><span class="line"></span><br><span class="line">p list.reduce&#123;|<span class="params">acc , num</span>| acc &gt; num ? acc : num;&#125; </span><br></pre></td></tr></table></figure></li>
<li>先用<code>compact</code>把<code>array</code>中的<code>nil</code>先處理掉，接著使用<code>sort</code>讓陣列中的元素進行排序由小到大，最後使用<code>uniq</code>將陣列中重覆的元素過濾掉。<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#把陣列 [1, 3, 4, 1, 7, nil, 7] 由小到大排序，並且移除 nil 以及重複的數字</span></span><br><span class="line">list = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="literal">nil</span>, <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line">p list.compact.sort.uniq</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="個方法使用實戰大全"><a href="#個方法使用實戰大全" class="headerlink" title="個方法使用實戰大全"></a>個方法使用實戰大全</h2><ul>
<li>compact → new_arrayclick to toggle source<br>Returns a new Array containing all non-nil elements from self:<br>compact &gt; 回傳一個新的陣列</li>
</ul>
<p><img src="https://i.imgur.com/B916d1X.png"></p>
<hr>
<h3 id="為什麼使用變數？"><a href="#為什麼使用變數？" class="headerlink" title="為什麼使用變數？"></a>為什麼使用變數？</h3><p>賦予值意義。</p>
<h3 id="REPL-為何使用？"><a href="#REPL-為何使用？" class="headerlink" title="REPL?為何使用？"></a>REPL?為何使用？</h3><p>即時讀寫無窮迴圈，方便測試一些短方法。</p>
<h3 id="常數與變數有何不同？為何如此設計？"><a href="#常數與變數有何不同？為何如此設計？" class="headerlink" title="常數與變數有何不同？為何如此設計？"></a>常數與變數有何不同？為何如此設計？</h3><p>常數大寫開頭。<br>其他語言常數不可改，ruby可以改，只是會跳警告。</p>
<p>因為ruby的類別是用常數命名，<br>類別會需要擴充功能，<br>如果常數不能改就無法擴充。</p>
<h3 id="if倒裝？使用時機？相反詞？慣用寫法？"><a href="#if倒裝？使用時機？相反詞？慣用寫法？" class="headerlink" title="if倒裝？使用時機？相反詞？慣用寫法？"></a>if倒裝？使用時機？相反詞？慣用寫法？</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">puts &quot;在家&quot; if weather == &quot;下雨&quot; </span><br></pre></td></tr></table></figure>

<p><strong>使用時機：</strong><br>如果可以一句寫完，<br>或為了強調結果。</p>
<p><strong>相反詞：</strong>（不推薦使用）<br><code>unless</code> 或是 <code>if not</code></p>
<p><strong>慣用寫法：</strong></p>
<ol>
<li>正向表述為主</li>
<li>盡量不用寫<code>else</code></li>
<li>注意可讀性</li>
</ol>
<h3 id="例外處理？"><a href="#例外處理？" class="headerlink" title="例外處理？"></a>例外處理？</h3><ul>
<li>讓方法專心在輸入值與輸出值的關係，判斷錯誤可以另外判斷。</li>
</ul>
<h3 id="為何要迴圈？"><a href="#為何要迴圈？" class="headerlink" title="為何要迴圈？"></a>為何要迴圈？</h3><p>處理重複的事</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://chocolin1226.github.io/2022/11/16/RoR_new/" data-id="clajhugz70006vv6iejf7ajss" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/11/16/RoR_3/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/11/16/RoR_new/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/11/16/RoR_3/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/11/16/JS_new/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/11/16/JS_3/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/11/16/JS_2/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Choco<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>